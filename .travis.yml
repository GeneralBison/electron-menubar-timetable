language: node_js
node_js:
  - v6
  - v5
  - v4
  - '0.12'
  - '0.10'
addons:
  apt:
    packages:
      - xvfb

install:
  - npm install -g tslint typescript tsd
    - npm install
    - tsd install
    - export DISPLAY=':99.0'
    - Xvfb :99 -screen 0 1024x768x24 > /dev/null 2>&1 &
script:
  - tslint --version
    - tslint $(git ls-files | grep '.ts$')
    - tsc --version
    - tsc -p src/browser
    - tsc src/renderer/*.ts --out build/src/renderer
    - tsc -p tests/browser
    - npm test -- --travis
